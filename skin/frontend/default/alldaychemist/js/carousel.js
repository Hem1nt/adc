jQuery.fn.prepare_slider=function(){var f=0;var a=0;var c=0;var i=0;var e=jQuery("#slider_list > li");var h=e.outerWidth(true);var b=4;e.each(function(j){f+=jQuery(this).outerWidth(true);a++});c=a-b;total_clicks=a-b;jQuery("#slider_list").css("position","relative");jQuery("#slider_list").css("left","0px");jQuery("#slider_list").css("width",f+"px");jQuery("#slider_list li:last").addClass("last");jQuery("#slider_list li:first").addClass("first");var g=false;var d=function(){g=false};jQuery("#left_but").click(function(){cur_offset=jQuery("#slider_list").position().left;if(!g){if(i>0){g=true;jQuery("#slider_list").animate({left:cur_offset+h+"px"},700,"linear",d);c++;i--}else{g=true;jQuery("#slider_list").animate({left:-h*total_clicks+"px"},700,"linear",d);c=0;i=total_clicks}}});jQuery("#right_but").click(function(){if(!g){cur_offset=jQuery("#slider_list").position().left;if(c>0){g=true;jQuery("#slider_list").animate({left:cur_offset-h+"px"},700,"linear",d);c--;i++}else{g=true;jQuery("#slider_list").animate({left:0+"px"},700,"linear",d);i=0;c=total_clicks}}})};jQuery.fn.over=function(){jQuery(this).hover(function(){jQuery(this).addClass("over")},function(){jQuery(this).removeClass("over")})};jQuery.fn.intro=function(){var g=jQuery(".slider .box-right");var f=jQuery(".slider .box-right, .slider .box-left");var b=1;var d=jQuery("#slider_list > li").size();var c=false;var a=true;function e(){if(c==false&&a==true){if(b<=d){g.trigger("click");b++;setTimeout(function(){e()},7000)}}else{setTimeout(function(){e()},7000);c=false}}setTimeout(function(){e()},7000);f.each(function(){jQuery(this).bind("mouseup",function(){c=true;a=true})});jQuery(window).blur(function(){a=false}).focus(function(){a=true})};document.observe("dom:loaded",function(){var a=$$(".box-top");a.each(function(c){var b=c.select("#slider_list");b.each(function(g){var f=g.select("li");var e=0;f.each(function(h){if(h.getHeight()>e){e=h.getHeight()}});var d=g.select("li .product-name");d.each(function(h){var i=h.up("li");var j=i.getHeight()-h.getHeight();h.setStyle({height:e-j+"px"})})})})});jQuery(window).bind("load",function(){jQuery().prepare_slider();jQuery().intro();jQuery("#slider_list > li").over()});